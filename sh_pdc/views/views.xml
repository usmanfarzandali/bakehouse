<?xml version="1.0" encoding="utf-8"?>
<odoo>
	<!--  Add Button for register PDC Payment -->
	<record id="sh_invoice_form_inherit" model="ir.ui.view">
		<field name="name">Sh Invoice form Inherit</field>
		<field name="model">account.move</field>
		<field name="inherit_id" ref="account.view_move_form"/>
		<field name="arch" type="xml">
			<button name="action_invoice_sent" position="after" >
				<button name="%(sh_pdc_wizard_action)d" type="action" string="Register PDC Cheque" groups="account.group_account_invoice" class="oe_highlight"  attrs="{'invisible': ['|', ('move_type', 'not in', ('out_invoice', 'in_invoice')), ('state', '!=', 'posted')]}" />
			</button>
			<xpath expr="//div[@name='button_box']" position="inside">
				<button name="open_pdc_payment" class="oe_stat_button" type="object" icon="fa-credit-card" attrs="{'invisible':[('pdc_payment_count','=',0)]}">
					<field name="pdc_payment_count" widget="statinfo" string="PDC Payments"/>
				</button>
			</xpath>

			<xpath expr='//page[@name="other_info"]' position='after'>
				<page name='pdc_payment' string='PDC Payment'>
					<field name='pdc_payment_ids'>
						<tree decoration-success="state =='done'" decoration-info="state == 'draft'"  decoration-danger="state == 'bounced'" decoration-muted="state == 'cancel'">
							<field name="currency_id" invisible="1"/>
							<field name="payment_date"/>
							<field name="name"/>
							<field name="journal_id"/>
							<field name="partner_id"/>
							<field name="payment_amount"/><field name="state"/>
						</tree>
						<form>
							<header>
								<button name="action_register" class="oe_highlight" states="draft" string="Register" type="object"/>
								<button name="action_returned" class="oe_highlight" states="registered" string="Return" type="object"/>
								<button name="action_deposited" class="oe_highlight" states="registered,returned,bounced" string="Deposit" type="object"/>
								<button name="action_bounced" class="oe_highlight" states="deposited" string="Bounce" type="object"/>
								<button name="action_done" class="oe_highlight" states="deposited" string="Done" type="object"/>
								<button name="action_cancel" class="oe_highlight" states="registered,returned,bounced" string="Cancel" type="object"/>
								<field name="state" widget="statusbar"/>
							</header>
							<sheet>
								<div name="button_box" class="oe_button_box">
									<button name="open_attachments"
													class="oe_stat_button"
													icon="fa-cloud-upload"
													type="object"
													string="Attachments">

									</button>
									 <button name="open_journal_items"
											class="oe_stat_button"
											icon="fa-list"
											type="object"
											string="Journal Items">
									</button>
									 <button name="open_journal_entry"
											class="oe_stat_button"
													icon="fa-list"
													type="object"
													string="Journal Entry">
									 </button>
								</div>

								<group>
									<group>
										<field name="name" readonly="1"/>
										<field name="payment_type" attrs="{'readonly':[('state','not in',['draft','bounced'])]}" widget="radio"/>
										<field name="currency_id" invisible="1"/>
										<field name="partner_id" attrs="{'readonly':[('state','not in',['draft','bounced'])]}"/>
										<field name="payment_amount" widget="monetary" attrs="{'readonly':[('state','not in',['draft','bounced'])]}"/>
										<field name="reference" attrs="{'readonly':[('state','not in',['draft','bounced'])]}"/>
										<field name="journal_id" options="{'no_create':1,'no_create_edit':1}" attrs="{'readonly':[('state','not in',['draft','bounced'])]}"/>
									</group>
									<group>
										<field name="payment_date" attrs="{'readonly':[('state','not in',['draft','bounced'])]}"/>
										<field name="due_date" attrs="{'readonly':[('state','not in',['draft','bounced'])]}"/>
										<field name="memo" attrs="{'readonly':[('state','not in',['draft','bounced'])]}"/>
										<field name="agent" attrs="{'readonly':[('state','not in',['draft','bounced'])]}"/>
										<field name="bank_id" attrs="{'readonly':[('state','not in',['draft','bounced'])]}"/>
									</group>
								</group>
								<notebook>
									<page string="Attachments">
										<field name="attachment_ids" widget="many2many_binary"/>
										<!-- <field name="attachment_ids" attrs="{'readonly':[('state','not in',['draft','bounced','registered','returned'])]}">
											<tree string="Attachments">
												<field name="name"/>
												<field name="type"/>
												<field name="company_id" groups="base.group_multi_company"/>
												<field name="create_uid"/>
												<field name="create_date"/>
											</tree>
											</field> -->
									</page>
								</notebook>
							</sheet>
						</form>
					</field>

					<group class="oe_subtotal_footer">
						<field name="total_pdc_received"/>
						<field name="total_pdc_pending" />
						<field name="total_pdc_cancel" attrs="{'invisible':[('total_pdc_cancel','=',0.0)]}"/>
						<field name="total_pdc_payment" class="oe_subtotal_footer_separator"/>
					</group>
				</page>
			</xpath>

		</field>
	</record>

<!--		 BILLS-->
<!--	<record id="sh_bill_form_inherit" model="ir.ui.view">-->
<!--		<field name="name">Sh Bill form Inherit</field>-->
<!--		<field name="model">account.move</field>-->
<!--		<field name="inherit_id" ref="account.view_move_form"/>-->
<!--		<field name="arch" type="xml">-->
<!--			<button name="action_invoice_sent" position="after">-->
<!--				<button name="%(sh_pdc_wizard_action)d"-->
<!--						type="action"-->
<!--						string="Bill Register PDC Cheque"-->
<!--						groups="account.group_account_invoice" class="oe_highlight"-->
<!--				attrs="{'invisible' : [('show_reset_to_draft_button', '=', False)]}"/>-->
<!--			</button>-->
<!--			<xpath expr="//sheet//div" position="before">-->
<!--				<div class="oe_button_box" name="button_box">-->
<!--					<button name="open_pdc_payment"-->
<!--							class="oe_stat_button"-->
<!--							type="object"-->
<!--							icon="fa-credit-card"-->
<!--							attrs="{'invisible':[('pdc_payment_count','=',0)]}">-->
<!--						<field name="pdc_payment_count" widget="statinfo"  string="PDC Payments" />-->
<!--					</button>-->
<!--				</div>-->
<!--			</xpath>-->
<!--			<xpath expr='//page[@name="other_info"]' position='after'>-->
<!--				<page name='pdc_payment' string='PDC Payment'>-->
<!--					<field name='pdc_payment_ids'>-->
<!--						<tree decoration-success="state =='done'" decoration-info="state == 'draft'"  decoration-danger="state == 'bounced'" decoration-muted="state == 'cancel'">-->
<!--							<field name="currency_id" invisible="1"/>-->
<!--							<field name="payment_date"/>-->
<!--							<field name="name"/>-->
<!--							<field name="journal_id"/>-->
<!--							<field name="partner_id"/>-->
<!--							<field name="payment_amount"/><field name="state"/>-->
<!--						</tree>-->
<!--						<form>-->
<!--							<header>-->
<!--								<button name="action_register" class="oe_highlight" states="draft" string="Register" type="object"/>-->
<!--								<button name="action_returned" class="oe_highlight" states="registered" string="Return" type="object"/>-->
<!--								<button name="action_deposited" class="oe_highlight" states="registered,returned,bounced" string="Deposit" type="object"/>-->
<!--								<button name="action_bounced" class="oe_highlight" states="deposited" string="Bounce" type="object"/>-->
<!--								<button name="action_done" class="oe_highlight" states="deposited" string="Done" type="object"/>-->
<!--								<button name="action_cancel" class="oe_highlight" states="registered,returned,bounced" string="Cancel" type="object"/>-->
<!--&lt;!&ndash;&ndash;&gt;-->
<!--								<field name="state" widget="statusbar"/>-->
<!--							</header>-->
<!--							<sheet>-->
<!--								<div name="button_box" class="oe_button_box">-->
<!--									<button name="open_attachments"-->
<!--											class="oe_stat_button"-->
<!--											icon="fa-cloud-upload"-->
<!--											type="object"-->
<!--											string="Attachments">-->
<!--									</button>-->
<!--									<button name="open_journal_items"-->
<!--											class="oe_stat_button"-->
<!--											icon="fa-list"-->
<!--											type="object"-->
<!--											string="Journal Items">-->
<!--									</button>-->
<!--									<button name="open_journal_entry"-->
<!--											class="oe_stat_button"-->
<!--											icon="fa-list"-->
<!--											type="object"-->
<!--											string="Journal Entry">-->
<!--									</button>-->
<!--								</div>-->
<!--								<group>-->
<!--									<group>-->
<!--										<field name="name" readonly="1"/>-->
<!--										<field name="payment_type" attrs="{'readonly':[('state','not in',['draft','bounced'])]}" widget="radio"/>-->
<!--										<field name="currency_id" invisible="1"/>-->
<!--										<field name="partner_id" attrs="{'readonly':[('state','not in',['draft','bounced'])]}"/>-->
<!--										<field name="payment_amount" widget="monetary" attrs="{'readonly':[('state','not in',['draft','bounced'])]}"/>-->
<!--										<field name="reference" attrs="{'readonly':[('state','not in',['draft','bounced'])]}"/>-->
<!--										<field name="journal_id" options="{'no_create':1,'no_create_edit':1}" attrs="{'readonly':[('state','not in',['draft','bounced'])]}"/>-->
<!--									</group>-->
<!--									<group>-->
<!--										<field name="payment_date" attrs="{'readonly':[('state','not in',['draft','bounced'])]}"/>-->
<!--										<field name="due_date" attrs="{'readonly':[('state','not in',['draft','bounced'])]}"/>-->
<!--										<field name="memo" attrs="{'readonly':[('state','not in',['draft','bounced'])]}"/>-->
<!--										<field name="agent" attrs="{'readonly':[('state','not in',['draft','bounced'])]}"/>-->
<!--										<field name="bank_id" attrs="{'readonly':[('state','not in',['draft','bounced'])]}"/>-->
<!--									</group>-->
<!--								</group>-->
<!--								<notebook>-->
<!--									<page string="Attachments">-->
<!--										<field name="attachment_ids" widget="many2many_binary"/>-->
<!--										&lt;!&ndash; <field name="attachment_ids" attrs="{'readonly':[('state','not in',['draft','bounced','registered','returned'])]}">-->
<!--													<tree string="Attachments">-->
<!--									                    <field name="name"/>-->
<!--									                    <field name="type"/>-->
<!--									                    <field name="company_id" groups="base.group_multi_company"/>-->
<!--									                    <field name="create_uid"/>-->
<!--									                    <field name="create_date"/>-->
<!--									                </tree>-->
<!--												</field> &ndash;&gt;-->
<!--									</page>-->
<!--								</notebook>-->
<!--							</sheet>-->
<!--						</form>-->
<!--					</field>-->
<!--&lt;!&ndash;&ndash;&gt;-->
<!--					<group class="oe_subtotal_footer">-->
<!--						<field name="total_pdc_received"/>-->
<!--						<field name="total_pdc_pending" />-->
<!--						<field name="total_pdc_cancel" attrs="{'invisible':[('total_pdc_cancel','=',0.0)]}"/>-->
<!--						<field name="total_pdc_payment" class="oe_subtotal_footer_separator"/>-->
<!--					</group>-->
<!--&lt;!&ndash;&ndash;&gt;-->
<!--				</page>-->
<!--			</xpath>-->
<!--		</field>-->
<!--	</record>-->
<!---->
</odoo>